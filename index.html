<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>Nyapuru Club</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
html,body{
  height:100%;
  margin:0;
  font-family:"Inter",sans-serif;
  background:white;
  color:#222;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  touch-action: manipulation;
}
*{-webkit-tap-highlight-color: transparent;}
h1{margin-bottom:30px;font-size:1.6em;}
#penguin{
  width:160px;height:160px;
  cursor:pointer;
  display:block;
  transition: transform 0.1s ease;
  user-select:none;
}
#penguin:active{transform: scale(0.95);}
</style>
</head>
<body>
<h1 id="greet">Привет!</h1>
<img id="penguin" src="https://img.cryptorank.io/coins/pudgy_penguins1734444110427.png" alt="Пингвин">

<script>
const tg = window.Telegram.WebApp;

if (!tg.initDataUnsafe?.user) {
  document.body.innerHTML = `
    <h1>Авторизуйтесь через Telegram</h1>
    <p>Сканируйте QR-код, чтобы открыть приложение:</p>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://t.me/nyapclub_bot" alt="QR код">
  `;
} else {
  if (/Mobi|Android/i.test(navigator.userAgent)) {
    try { tg.requestFullscreen(); } catch(e) { console.log("Fullscreen error:", e); }
  }

  const user = tg.initDataUnsafe.user;
  const greet = document.getElementById("greet");
  const penguin = document.getElementById("penguin");

  greet.textContent = `Привет, ${user.first_name}!`;

  let clicks = 0;

  function animateClick() {
    penguin.style.transform = "scale(0.95)";
    setTimeout(() => penguin.style.transform = "scale(1)", 100);
  }

  penguin.addEventListener("mousedown", animateClick);
  penguin.addEventListener("touchstart", animateClick);

  penguin.addEventListener("click", () => {
    clicks++;
    fetch("/click


